<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors with AI</title>
    <link rel="stylesheet" href="index.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>
    <h1>Rock Paper Scissors</h1>

    <button class="button" id="Stone" onclick=" 
         userMove = 'Stone';
         compuChoice = getCompuChoice();
         result = getResult(userMove, compuChoice);
        showResult(userMove, compuChoice, result);
    "></button>
    
    <button class="button" id="Paper" onclick="
         userMove = 'Paper';
         compuChoice = getCompuChoice();
         result = getResult(userMove, compuChoice);
        showResult(userMove, compuChoice, result);
    "></button>
    
    <button class="button" id="Scissors" onclick="
        let userMove = 'Scissors';
        let compuChoice = getCompuChoice();
        let result = getResult(userMove, compuChoice);
        showResult(userMove, compuChoice, result);
    "></button>

    <h2 id="userMove"></h2>
    <h2 id="computerMove"></h2>
    <h2 id="result"></h2>

    <h2 id="score">Your Score <br> Win: 0, Lost: 0, Tie: 0 </h2>

    <button class="button" id="Reset" onclick="resetScore(); localStorage.clear();"></button>

    <script> 
        let scoreStr=localStorage.getItem('score');
        let score={};
        score = scoreStr ? JSON.parse(scoreStr):{
                Win:0,
                Lost:0,
                Tie:0,
            };
            
        document.querySelector('#score').innerText = `Your Score
         Win: ${score.Win}   Lost: ${score.Lost}  Tie: ${score.Tie}`;
        
        
        
        function resetScore() {
            localStorage.clear();
            score.Win = 0;
            score.Lost = 0;
            score.Tie = 0;
            
            document.querySelector('#score').innerText = `Your Score
            Win: ${score.Win}   Lost: ${score.Lost}  Tie: ${score.Tie}`;
            
            document.querySelector('#userMove').innerText = '';
            
            document.querySelector('#computerMove').innerText = '';
            
            document.querySelector('#result').innerText = '';
        }
  
        function getCompuChoice() {
            let randomNum = Math.random() * 3;
            if (randomNum > 0 && randomNum <= 1) {
                return 'Stone';
            } else if (randomNum > 1 && randomNum <= 2) {
                return 'Paper';
            } else {
                return 'Scissors';
            }
        }
        
        function showResult(userMove, compuChoice, result) {
            localStorage.setItem('score', JSON.stringify(score));
            
            document.querySelector('#score').innerText = `Your Score
            Win: ${score.Win}   Lost: ${score.Lost}  Tie: ${score.Tie}`;
            
            document.querySelector('#userMove').innerText = `User chosen: ${userMove}`;
            document.querySelector('#computerMove').innerText = `Computer chosen: ${compuChoice}`;
            document.querySelector('#result').innerText = result;
        }

        function getResult(userMove, compuChoice) {
            if (userMove === 'Paper') {
                if (compuChoice === 'Stone') {
                    score.Win++;
                    return 'User Won Balle Balle';
                } else if (compuChoice === userMove) {
                    score.Tie++;
                    return 'Its Tie Try again';
                } else {
                    score.Lost++;
                    return 'User Lost Try Again Bache';
                } 
            } else if (userMove === 'Stone') {
                if (compuChoice === 'Scissors') {
                    score.Win++;
                    return 'User Won Balle Balle';
                } else if (compuChoice === userMove) {
                    score.Tie++;
                    return 'Its Tie Try again';
                } else {
                    score.Lost++;
                    return 'User Lost Try Again Bache';
                } 
            } else {
                if (compuChoice === 'Paper') {
                    score.Win++;
                    return 'User Won Balle Balle';
                } else if (compuChoice === userMove) {
                    score.Tie++;
                    return 'Its Tie Try again';
                } else {
                    score.Lost++;
                    return 'User Lost Try Again Bache';
                }
            }
        }
        
      




    </script>
</body>
</html>
